// Package docs Code generated by swaggo/swag. DO NOT EDIT
package docs

import "github.com/swaggo/swag"

const docTemplate = `{
    "schemes": {{ marshal .Schemes }},
    "swagger": "2.0",
    "info": {
        "description": "{{escape .Description}}",
        "title": "{{.Title}}",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support Team",
            "url": "http://www.swagger.io/support",
            "email": "support@swagger.io"
        },
        "license": {
            "name": "MIT License",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "{{.Version}}"
    },
    "host": "{{.Host}}",
    "basePath": "{{.BasePath}}",
    "paths": {
        "/api/v1/admin/cache/batch-invalidate": {
            "post": {
                "description": "批量使多个锦标赛的排行榜缓存失效",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "批量使缓存失效",
                "parameters": [
                    {
                        "description": "批量失效请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.BatchInvalidateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/hit-rate": {
            "get": {
                "description": "检查当前缓存命中率是否达到阈值",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "检查命中率",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.HitRateCheckResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/invalidate-points": {
            "post": {
                "description": "当用户积分更新时使相关排行榜缓存失效",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "积分更新时使缓存失效",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "锦标赛名称",
                        "name": "tournament",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/leaderboard/invalidate": {
            "post": {
                "description": "手动使指定锦标赛的排行榜缓存失效",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "使排行榜缓存失效",
                "parameters": [
                    {
                        "type": "string",
                        "description": "锦标赛名称",
                        "name": "tournament",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/leaderboard/refresh": {
            "post": {
                "description": "手动刷新指定锦标赛的排行榜缓存",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "刷新排行榜缓存",
                "parameters": [
                    {
                        "type": "string",
                        "description": "锦标赛名称",
                        "name": "tournament",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/metrics": {
            "get": {
                "description": "获取包括Redis状态、系统健康等详细缓存指标",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "获取详细缓存指标",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/services.CacheMetrics"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/prewarm": {
            "post": {
                "description": "预热所有锦标赛的排行榜缓存",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "预热缓存",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/report": {
            "get": {
                "description": "获取包括历史统计、告警、优化建议的详细缓存报告",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "获取缓存详细报告",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/services.CacheReport"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/cache/stats": {
            "get": {
                "description": "获取排行榜缓存的统计信息，包括命中率、请求数等",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "缓存管理"
                ],
                "summary": "获取缓存统计信息",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/services.CacheStats"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/matches/{match_id}/recalculate-points": {
            "post": {
                "description": "管理员使用指定积分规则重新计算某场比赛的所有预测积分",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "使用指定规则重新计算比赛积分",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "match_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "积分规则ID（不指定则使用激活规则）",
                        "name": "rule_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/points/calculate": {
            "post": {
                "description": "为指定比赛手动触发异步积分计算",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分管理"
                ],
                "summary": "手动触发积分计算",
                "parameters": [
                    {
                        "description": "触发请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.TriggerPointsCalculationRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.TriggerPointsCalculationResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/points/calculate/batch": {
            "post": {
                "description": "为多个比赛批量触发异步积分计算",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分管理"
                ],
                "summary": "批量触发积分计算",
                "parameters": [
                    {
                        "description": "批量触发请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.BatchTriggerRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.BatchTriggerResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/points/queue/status": {
            "get": {
                "description": "获取积分计算任务队列的整体状态信息",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分管理"
                ],
                "summary": "获取积分计算队列状态",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "additionalProperties": true
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/admin/points/tasks/{task_id}": {
            "get": {
                "description": "根据任务ID获取积分计算任务的状态",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分管理"
                ],
                "summary": "获取积分计算任务状态",
                "parameters": [
                    {
                        "type": "string",
                        "description": "任务ID",
                        "name": "task_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/services.PointsCalculationTask"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/scoring-rules": {
            "post": {
                "description": "管理员创建新的积分规则",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "创建积分规则",
                "parameters": [
                    {
                        "description": "创建积分规则请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/prediction.CreateScoringRuleRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.ScoringRule"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/scoring-rules/{id}": {
            "put": {
                "description": "管理员更新积分规则信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "更新积分规则",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "积分规则ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新积分规则请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/prediction.UpdateScoringRuleRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.ScoringRule"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "delete": {
                "description": "管理员删除积分规则（不能删除激活的规则）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "删除积分规则",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "积分规则ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/admin/scoring-rules/{id}/activate": {
            "post": {
                "description": "管理员设置当前使用的积分规则",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "设置激活的积分规则",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "积分规则ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/metrics": {
            "get": {
                "description": "获取事件处理指标数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "获取事件指标",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "additionalProperties": true
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/replay": {
            "post": {
                "description": "重放指定条件的历史事件",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "重放事件",
                "parameters": [
                    {
                        "description": "重放请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.ReplayEventsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/replay.ReplayResult"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/replay-failed": {
            "post": {
                "description": "重放处理失败的事件",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "重放失败的事件",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 100,
                        "description": "限制数量",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/replay.ReplayResult"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/replay-status": {
            "get": {
                "description": "获取事件重放系统的状态信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "获取重放状态",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "additionalProperties": true
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/statistics": {
            "get": {
                "description": "获取指定类型和时间段的统计数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "获取统计数据",
                "parameters": [
                    {
                        "enum": [
                            "registrations",
                            "logins",
                            "predictions",
                            "votes",
                            "errors"
                        ],
                        "type": "string",
                        "description": "统计类型",
                        "name": "type",
                        "in": "query",
                        "required": true
                    },
                    {
                        "enum": [
                            "daily",
                            "weekly",
                            "monthly"
                        ],
                        "type": "string",
                        "description": "时间段",
                        "name": "period",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "additionalProperties": true
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/system-metrics": {
            "get": {
                "description": "获取系统级别的指标数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "获取系统指标",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "additionalProperties": true
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/events/test": {
            "post": {
                "description": "发布一个测试事件用于调试和测试",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "events"
                ],
                "summary": "发布测试事件",
                "parameters": [
                    {
                        "description": "测试事件请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.PublishTestEventRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard": {
            "get": {
                "description": "获取指定锦标赛的排行榜",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "获取排行榜",
                "parameters": [
                    {
                        "enum": [
                            "SPRING",
                            "SUMMER",
                            "GLOBAL"
                        ],
                        "type": "string",
                        "default": "GLOBAL",
                        "description": "锦标赛类型",
                        "name": "tournament",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 10,
                        "description": "返回数量限制",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/leaderboard.LeaderboardEntry"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard/matches/{match_id}/calculate-points": {
            "post": {
                "description": "计算指定比赛结束后的所有预测积分",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "计算比赛积分",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "match_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "计算请求",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/handlers.CalculateMatchPointsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/scoring.MatchPointsCalculation"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard/ranks/{rank}/around": {
            "get": {
                "description": "获取指定排名周围的用户列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "获取排名周围的用户",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "排名",
                        "name": "rank",
                        "in": "path",
                        "required": true
                    },
                    {
                        "enum": [
                            "SPRING",
                            "SUMMER",
                            "GLOBAL"
                        ],
                        "type": "string",
                        "default": "GLOBAL",
                        "description": "锦标赛类型",
                        "name": "tournament",
                        "in": "query"
                    },
                    {
                        "maximum": 20,
                        "minimum": 1,
                        "type": "integer",
                        "default": 5,
                        "description": "范围半径",
                        "name": "radius",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/leaderboard.LeaderboardEntry"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard/refresh": {
            "post": {
                "description": "手动刷新指定锦标赛的排行榜缓存",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "刷新排行榜缓存",
                "parameters": [
                    {
                        "enum": [
                            "SPRING",
                            "SUMMER",
                            "GLOBAL"
                        ],
                        "type": "string",
                        "default": "GLOBAL",
                        "description": "锦标赛类型",
                        "name": "tournament",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard/stats": {
            "get": {
                "description": "获取指定锦标赛的排行榜统计信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "获取排行榜统计",
                "parameters": [
                    {
                        "enum": [
                            "SPRING",
                            "SUMMER",
                            "GLOBAL"
                        ],
                        "type": "string",
                        "default": "GLOBAL",
                        "description": "锦标赛类型",
                        "name": "tournament",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/leaderboard.LeaderboardStats"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard/users/{user_id}/points-history": {
            "get": {
                "description": "获取指定用户的积分变化历史",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "获取用户积分历史",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "enum": [
                            "SPRING",
                            "SUMMER",
                            "GLOBAL"
                        ],
                        "type": "string",
                        "description": "锦标赛类型",
                        "name": "tournament",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/scoring.PointsUpdateEvent"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/leaderboard/users/{user_id}/rank": {
            "get": {
                "description": "获取指定用户在指定锦标赛中的排名信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "leaderboard"
                ],
                "summary": "获取用户排名",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "enum": [
                            "SPRING",
                            "SUMMER",
                            "GLOBAL"
                        ],
                        "type": "string",
                        "default": "GLOBAL",
                        "description": "锦标赛类型",
                        "name": "tournament",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/leaderboard.UserRankInfo"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches": {
            "get": {
                "description": "获取比赛列表，支持过滤和分页",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "获取比赛列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "赛事类型",
                        "name": "tournament",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "比赛状态",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "开始日期",
                        "name": "start_date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束日期",
                        "name": "end_date",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "限制数量",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "偏移量",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/match.Match"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "post": {
                "description": "创建新的比赛",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "创建比赛",
                "parameters": [
                    {
                        "description": "比赛信息",
                        "name": "match",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/match.CreateMatchRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/match.Match"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/finished": {
            "get": {
                "description": "获取已结束的比赛列表",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "获取已结束的比赛",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "限制数量",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/match.Match"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/live": {
            "get": {
                "description": "获取正在进行的比赛列表",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "获取正在进行的比赛",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/match.Match"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/upcoming": {
            "get": {
                "description": "获取即将开始的比赛列表",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "获取即将开始的比赛",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/match.Match"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/{id}": {
            "get": {
                "description": "根据ID获取比赛详情",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "获取比赛详情",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/match.Match"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "put": {
                "description": "更新比赛信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "更新比赛信息",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新信息",
                        "name": "match",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/match.UpdateMatchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/match.Match"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/{id}/cancel": {
            "post": {
                "description": "取消比赛",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "取消比赛",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/{id}/result": {
            "post": {
                "description": "设置比赛结果并结束比赛",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "设置比赛结果",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "比赛结果",
                        "name": "result",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/match.SetResultRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/matches/{id}/start": {
            "post": {
                "description": "将比赛状态设置为进行中",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "matches"
                ],
                "summary": "开始比赛",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/predictions": {
            "get": {
                "description": "获取指定比赛的所有预测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "获取比赛预测列表",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "比赛ID",
                        "name": "match_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/prediction.PredictionWithVotes"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "为指定比赛创建预测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "创建预测",
                "parameters": [
                    {
                        "description": "创建预测请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/prediction.CreatePredictionRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.Prediction"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/predictions/featured": {
            "get": {
                "description": "获取系统精选的预测列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "获取精选预测",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/prediction.PredictionWithVotes"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/predictions/my": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "获取当前用户的所有预测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "获取用户预测列表",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/prediction.Prediction"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/predictions/{id}": {
            "get": {
                "description": "获取指定预测的详细信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "获取预测详情",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预测ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.Prediction"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "更新指定的预测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "更新预测",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预测ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新预测请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/prediction.UpdatePredictionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.Prediction"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/predictions/{id}/vote": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "为指定预测投票",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "投票支持预测",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预测ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "取消对指定预测的投票",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "predictions"
                ],
                "summary": "取消投票",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "预测ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/scoring-rules": {
            "get": {
                "description": "获取系统中所有的积分规则列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "获取所有积分规则",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/prediction.ScoringRule"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/scoring-rules/active": {
            "get": {
                "description": "获取当前系统使用的积分规则",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "获取当前激活的积分规则",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.ScoringRule"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/scoring-rules/{id}": {
            "get": {
                "description": "获取指定ID的积分规则详情",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "积分规则"
                ],
                "summary": "获取积分规则详情",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "积分规则ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/prediction.ScoringRule"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "用户登录获取访问令牌",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "认证"
                ],
                "summary": "用户登录",
                "parameters": [
                    {
                        "description": "登录信息",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "登录成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.LoginResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "用户名或密码错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "423": {
                        "description": "账户被锁定",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "用户登出（客户端应删除本地令牌）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "认证"
                ],
                "summary": "用户登出",
                "responses": {
                    "200": {
                        "description": "登出成功",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/auth/profile": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "获取当前登录用户的资料信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户"
                ],
                "summary": "获取用户资料",
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.RegisterResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "401": {
                        "description": "未授权",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "404": {
                        "description": "用户不存在",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/auth/refresh": {
            "post": {
                "description": "使用刷新令牌获取新的访问令牌",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "认证"
                ],
                "summary": "刷新访问令牌",
                "parameters": [
                    {
                        "description": "刷新令牌",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.RefreshTokenRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "刷新成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.LoginResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "刷新令牌无效",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "创建新用户账户",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "认证"
                ],
                "summary": "用户注册",
                "parameters": [
                    {
                        "description": "注册信息",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "注册成功",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/handlers.RegisterResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "409": {
                        "description": "用户名或邮箱已存在",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "domain.Match": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Record creation timestamp",
                    "type": "string"
                },
                "id": {
                    "description": "Unique identifier",
                    "type": "integer"
                },
                "predictions": {
                    "description": "Associations",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/domain.Prediction"
                    }
                },
                "score_a": {
                    "description": "Team A final score",
                    "type": "integer"
                },
                "score_b": {
                    "description": "Team B final score",
                    "type": "integer"
                },
                "start_time": {
                    "description": "Scheduled start time",
                    "type": "string"
                },
                "status": {
                    "description": "Current match status",
                    "allOf": [
                        {
                            "$ref": "#/definitions/domain.MatchStatus"
                        }
                    ]
                },
                "team_a": {
                    "description": "First team name",
                    "type": "string"
                },
                "team_b": {
                    "description": "Second team name",
                    "type": "string"
                },
                "tournament": {
                    "description": "Tournament type",
                    "allOf": [
                        {
                            "$ref": "#/definitions/domain.Tournament"
                        }
                    ]
                },
                "updated_at": {
                    "description": "Record last update timestamp",
                    "type": "string"
                },
                "winner": {
                    "description": "Winner identifier ('A', 'B', or empty)",
                    "type": "string"
                }
            }
        },
        "domain.MatchStatus": {
            "type": "string",
            "enum": [
                "UPCOMING",
                "LIVE",
                "FINISHED",
                "CANCELLED"
            ],
            "x-enum-comments": {
                "MatchStatusCancelled": "Match was cancelled before completion",
                "MatchStatusFinished": "Match has completed with results",
                "MatchStatusLive": "Match is currently in progress",
                "MatchStatusUpcoming": "Match is scheduled but not started"
            },
            "x-enum-descriptions": [
                "Match is scheduled but not started",
                "Match is currently in progress",
                "Match has completed with results",
                "Match was cancelled before completion"
            ],
            "x-enum-varnames": [
                "MatchStatusUpcoming",
                "MatchStatusLive",
                "MatchStatusFinished",
                "MatchStatusCancelled"
            ]
        },
        "domain.ModificationType": {
            "type": "string",
            "enum": [
                "winner",
                "score",
                "both"
            ],
            "x-enum-varnames": [
                "ModificationWinner",
                "ModificationScore",
                "ModificationBoth"
            ]
        },
        "domain.Prediction": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "earned_points": {
                    "type": "integer"
                },
                "has_user_voted": {
                    "type": "boolean"
                },
                "id": {
                    "type": "integer"
                },
                "is_correct": {
                    "type": "boolean"
                },
                "is_featured": {
                    "type": "boolean"
                },
                "is_processed": {
                    "type": "boolean"
                },
                "is_verified": {
                    "type": "boolean"
                },
                "last_modified_at": {
                    "type": "string"
                },
                "match": {
                    "$ref": "#/definitions/domain.Match"
                },
                "match_id": {
                    "type": "integer"
                },
                "modification_count": {
                    "type": "integer"
                },
                "modifications": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/domain.PredictionModification"
                    }
                },
                "predicted_score_a": {
                    "type": "integer"
                },
                "predicted_score_b": {
                    "type": "integer"
                },
                "predicted_winner": {
                    "description": "'A' 或 'B'",
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "关联关系",
                    "allOf": [
                        {
                            "$ref": "#/definitions/user.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                },
                "vote_count": {
                    "description": "虚拟字段（不存储在数据库中）",
                    "type": "integer"
                }
            }
        },
        "domain.PredictionModification": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "match": {
                    "$ref": "#/definitions/domain.Match"
                },
                "match_id": {
                    "type": "integer"
                },
                "modification_type": {
                    "$ref": "#/definitions/domain.ModificationType"
                },
                "new_score": {
                    "type": "string"
                },
                "new_winner": {
                    "type": "string"
                },
                "original_score": {
                    "type": "string"
                },
                "original_winner": {
                    "type": "string"
                },
                "prediction": {
                    "$ref": "#/definitions/domain.Prediction"
                },
                "prediction_id": {
                    "type": "integer"
                },
                "user": {
                    "description": "关联关系",
                    "allOf": [
                        {
                            "$ref": "#/definitions/user.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "domain.Tournament": {
            "type": "string",
            "enum": [
                "SPRING",
                "SUMMER",
                "WORLDS",
                "SPRING",
                "SUMMER",
                "WORLDS"
            ],
            "x-enum-comments": {
                "TournamentSpring": "Spring season tournament",
                "TournamentSummer": "Summer season tournament",
                "TournamentWorlds": "World championship tournament"
            },
            "x-enum-descriptions": [
                "Spring season tournament",
                "Summer season tournament",
                "World championship tournament"
            ],
            "x-enum-varnames": [
                "TournamentSpring",
                "TournamentSummer",
                "TournamentWorlds"
            ]
        },
        "handlers.BatchInvalidateRequest": {
            "type": "object",
            "required": [
                "tournaments"
            ],
            "properties": {
                "tournaments": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "handlers.BatchTriggerRequest": {
            "type": "object",
            "required": [
                "match_ids"
            ],
            "properties": {
                "match_ids": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "rule_id": {
                    "type": "integer"
                }
            }
        },
        "handlers.BatchTriggerResponse": {
            "type": "object",
            "properties": {
                "errors": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "failed_count": {
                    "type": "integer"
                },
                "success_count": {
                    "type": "integer"
                },
                "tasks": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/handlers.TriggerPointsCalculationResponse"
                    }
                }
            }
        },
        "handlers.CalculateMatchPointsRequest": {
            "type": "object",
            "properties": {
                "rule_id": {
                    "type": "integer"
                }
            }
        },
        "handlers.HitRateCheckResponse": {
            "type": "object",
            "properties": {
                "current_rate": {
                    "type": "number"
                },
                "is_healthy": {
                    "type": "boolean"
                },
                "stats": {
                    "$ref": "#/definitions/services.CacheStats"
                },
                "threshold": {
                    "type": "number"
                }
            }
        },
        "handlers.LoginRequest": {
            "type": "object",
            "required": [
                "password",
                "username"
            ],
            "properties": {
                "password": {
                    "type": "string",
                    "example": "password123"
                },
                "username": {
                    "type": "string",
                    "example": "johndoe"
                }
            }
        },
        "handlers.LoginResponse": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                },
                "expires_in": {
                    "type": "integer",
                    "example": 3600
                },
                "refresh_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                },
                "user": {
                    "$ref": "#/definitions/handlers.RegisterResponse"
                }
            }
        },
        "handlers.PublishTestEventRequest": {
            "type": "object",
            "required": [
                "event_type",
                "payload",
                "user_id"
            ],
            "properties": {
                "event_type": {
                    "type": "string",
                    "example": "user.registered"
                },
                "payload": {
                    "type": "object",
                    "additionalProperties": true
                },
                "user_id": {
                    "type": "integer",
                    "example": 1
                }
            }
        },
        "handlers.RefreshTokenRequest": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                }
            }
        },
        "handlers.RegisterRequest": {
            "type": "object",
            "required": [
                "email",
                "password",
                "username"
            ],
            "properties": {
                "email": {
                    "type": "string",
                    "example": "john@example.com"
                },
                "nickname": {
                    "type": "string",
                    "maxLength": 50,
                    "example": "John Doe"
                },
                "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "password123"
                },
                "username": {
                    "type": "string",
                    "maxLength": 50,
                    "minLength": 3,
                    "example": "johndoe"
                }
            }
        },
        "handlers.RegisterResponse": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "example": "john@example.com"
                },
                "id": {
                    "type": "integer",
                    "example": 1
                },
                "nickname": {
                    "type": "string",
                    "example": "John Doe"
                },
                "points": {
                    "type": "integer",
                    "example": 0
                },
                "role": {
                    "type": "string",
                    "example": "user"
                },
                "username": {
                    "type": "string",
                    "example": "johndoe"
                }
            }
        },
        "handlers.ReplayEventsRequest": {
            "type": "object",
            "required": [
                "end_time",
                "start_time"
            ],
            "properties": {
                "batch_size": {
                    "type": "integer",
                    "example": 100
                },
                "delay_between": {
                    "description": "毫秒",
                    "type": "integer",
                    "example": 1000
                },
                "dry_run": {
                    "type": "boolean",
                    "example": true
                },
                "end_time": {
                    "type": "string",
                    "example": "2024-01-02T00:00:00Z"
                },
                "event_type": {
                    "type": "string",
                    "example": "user.registered"
                },
                "start_time": {
                    "type": "string",
                    "example": "2024-01-01T00:00:00Z"
                },
                "user_id": {
                    "type": "integer",
                    "example": 1
                }
            }
        },
        "handlers.TriggerPointsCalculationRequest": {
            "type": "object",
            "required": [
                "match_id"
            ],
            "properties": {
                "match_id": {
                    "type": "integer"
                },
                "rule_id": {
                    "type": "integer"
                }
            }
        },
        "handlers.TriggerPointsCalculationResponse": {
            "type": "object",
            "properties": {
                "match_id": {
                    "type": "integer"
                },
                "message": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                },
                "task_id": {
                    "type": "string"
                }
            }
        },
        "leaderboard.LeaderboardEntry": {
            "type": "object",
            "properties": {
                "avatar": {
                    "type": "string"
                },
                "nickname": {
                    "type": "string"
                },
                "points": {
                    "type": "integer"
                },
                "rank": {
                    "type": "integer"
                },
                "tournament": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "leaderboard.LeaderboardStats": {
            "type": "object",
            "properties": {
                "average_score": {
                    "type": "number"
                },
                "last_updated": {
                    "type": "string"
                },
                "top_score": {
                    "type": "integer"
                },
                "total_users": {
                    "type": "integer"
                },
                "tournament": {
                    "type": "string"
                }
            }
        },
        "leaderboard.UserRankInfo": {
            "type": "object",
            "properties": {
                "nickname": {
                    "type": "string"
                },
                "points": {
                    "type": "integer"
                },
                "points_change": {
                    "description": "积分变化",
                    "type": "integer"
                },
                "rank": {
                    "type": "integer"
                },
                "rank_change": {
                    "description": "排名变化（正数表示上升，负数表示下降）",
                    "type": "integer"
                },
                "tournament": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "match.CreateMatchRequest": {
            "type": "object",
            "required": [
                "start_time",
                "team_a",
                "team_b",
                "tournament"
            ],
            "properties": {
                "start_time": {
                    "type": "string"
                },
                "team_a": {
                    "type": "string",
                    "maxLength": 100
                },
                "team_b": {
                    "type": "string",
                    "maxLength": 100
                },
                "tournament": {
                    "$ref": "#/definitions/match.Tournament"
                }
            }
        },
        "match.Match": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Record creation timestamp",
                    "type": "string"
                },
                "id": {
                    "description": "Unique identifier",
                    "type": "integer"
                },
                "predictions": {
                    "description": "Associations",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/domain.Prediction"
                    }
                },
                "score_a": {
                    "description": "Team A final score",
                    "type": "integer"
                },
                "score_b": {
                    "description": "Team B final score",
                    "type": "integer"
                },
                "start_time": {
                    "description": "Scheduled start time",
                    "type": "string"
                },
                "status": {
                    "description": "Current match status",
                    "allOf": [
                        {
                            "$ref": "#/definitions/domain.MatchStatus"
                        }
                    ]
                },
                "team_a": {
                    "description": "First team name",
                    "type": "string"
                },
                "team_b": {
                    "description": "Second team name",
                    "type": "string"
                },
                "tournament": {
                    "description": "Tournament type",
                    "allOf": [
                        {
                            "$ref": "#/definitions/domain.Tournament"
                        }
                    ]
                },
                "updated_at": {
                    "description": "Record last update timestamp",
                    "type": "string"
                },
                "winner": {
                    "description": "Winner identifier ('A', 'B', or empty)",
                    "type": "string"
                }
            }
        },
        "match.SetResultRequest": {
            "type": "object",
            "properties": {
                "score_a": {
                    "type": "integer",
                    "minimum": 0
                },
                "score_b": {
                    "type": "integer",
                    "minimum": 0
                },
                "winner": {
                    "type": "string",
                    "enum": [
                        "A",
                        "B",
                        ""
                    ]
                }
            }
        },
        "match.Tournament": {
            "type": "string",
            "enum": [
                "SPRING",
                "SUMMER",
                "WORLDS",
                "SPRING",
                "SUMMER",
                "WORLDS"
            ],
            "x-enum-comments": {
                "TournamentSpring": "Spring season tournament",
                "TournamentSummer": "Summer season tournament",
                "TournamentWorlds": "World championship tournament"
            },
            "x-enum-descriptions": [
                "Spring season tournament",
                "Summer season tournament",
                "World championship tournament"
            ],
            "x-enum-varnames": [
                "TournamentSpring",
                "TournamentSummer",
                "TournamentWorlds"
            ]
        },
        "match.UpdateMatchRequest": {
            "type": "object",
            "properties": {
                "start_time": {
                    "type": "string"
                },
                "team_a": {
                    "type": "string",
                    "maxLength": 100
                },
                "team_b": {
                    "type": "string",
                    "maxLength": 100
                },
                "tournament": {
                    "$ref": "#/definitions/match.Tournament"
                }
            }
        },
        "match.Winner": {
            "type": "string",
            "enum": [
                "A",
                "B",
                "DRAW",
                "A",
                "B",
                "DRAW"
            ],
            "x-enum-comments": {
                "WinnerA": "Team A won the match",
                "WinnerB": "Team B won the match",
                "WinnerDraw": "Match ended in a draw"
            },
            "x-enum-descriptions": [
                "Team A won the match",
                "Team B won the match",
                "Match ended in a draw"
            ],
            "x-enum-varnames": [
                "WinnerA",
                "WinnerB",
                "WinnerDraw"
            ]
        },
        "prediction.CreatePredictionRequest": {
            "type": "object",
            "required": [
                "match_id",
                "predicted_winner"
            ],
            "properties": {
                "match_id": {
                    "type": "integer"
                },
                "predicted_score_a": {
                    "type": "integer",
                    "minimum": 0
                },
                "predicted_score_b": {
                    "type": "integer",
                    "minimum": 0
                },
                "predicted_winner": {
                    "enum": [
                        "A",
                        "B",
                        "DRAW"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/match.Winner"
                        }
                    ]
                }
            }
        },
        "prediction.CreateScoringRuleRequest": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "correct_team_correct_score": {
                    "type": "integer",
                    "minimum": 0
                },
                "correct_team_wrong_score": {
                    "type": "integer",
                    "minimum": 0
                },
                "description": {
                    "type": "string",
                    "maxLength": 500
                },
                "name": {
                    "type": "string",
                    "maxLength": 100
                },
                "wrong_team_correct_score": {
                    "type": "integer",
                    "minimum": 0
                },
                "wrong_team_wrong_score": {
                    "type": "integer",
                    "minimum": 0
                }
            }
        },
        "prediction.Prediction": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "earned_points": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "is_correct": {
                    "type": "boolean"
                },
                "is_featured": {
                    "type": "boolean"
                },
                "match": {
                    "$ref": "#/definitions/match.Match"
                },
                "match_id": {
                    "type": "integer"
                },
                "modification_count": {
                    "type": "integer"
                },
                "predicted_score_a": {
                    "type": "integer"
                },
                "predicted_score_b": {
                    "type": "integer"
                },
                "predicted_winner": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "关联关系",
                    "allOf": [
                        {
                            "$ref": "#/definitions/user.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                },
                "vote_count": {
                    "type": "integer"
                },
                "votes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/prediction.Vote"
                    }
                }
            }
        },
        "prediction.PredictionWithVotes": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "earned_points": {
                    "type": "integer"
                },
                "has_user_voted": {
                    "type": "boolean"
                },
                "id": {
                    "type": "integer"
                },
                "is_correct": {
                    "type": "boolean"
                },
                "is_featured": {
                    "type": "boolean"
                },
                "match": {
                    "$ref": "#/definitions/match.Match"
                },
                "match_id": {
                    "type": "integer"
                },
                "modification_count": {
                    "type": "integer"
                },
                "predicted_score_a": {
                    "type": "integer"
                },
                "predicted_score_b": {
                    "type": "integer"
                },
                "predicted_winner": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "关联关系",
                    "allOf": [
                        {
                            "$ref": "#/definitions/user.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                },
                "vote_count": {
                    "type": "integer"
                },
                "votes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/prediction.Vote"
                    }
                }
            }
        },
        "prediction.ScoringRule": {
            "type": "object",
            "properties": {
                "correct_team_correct_score": {
                    "description": "预测正确队伍和比分",
                    "type": "integer"
                },
                "correct_team_wrong_score": {
                    "description": "预测正确队伍错误比分",
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "wrong_team_correct_score": {
                    "description": "预测错误队伍正确比分",
                    "type": "integer"
                },
                "wrong_team_wrong_score": {
                    "description": "预测错误队伍错误比分",
                    "type": "integer"
                }
            }
        },
        "prediction.UpdatePredictionRequest": {
            "type": "object",
            "required": [
                "predicted_winner"
            ],
            "properties": {
                "predicted_score_a": {
                    "type": "integer",
                    "minimum": 0
                },
                "predicted_score_b": {
                    "type": "integer",
                    "minimum": 0
                },
                "predicted_winner": {
                    "enum": [
                        "A",
                        "B",
                        "DRAW"
                    ],
                    "allOf": [
                        {
                            "$ref": "#/definitions/match.Winner"
                        }
                    ]
                }
            }
        },
        "prediction.UpdateScoringRuleRequest": {
            "type": "object",
            "properties": {
                "correct_team_correct_score": {
                    "type": "integer",
                    "minimum": 0
                },
                "correct_team_wrong_score": {
                    "type": "integer",
                    "minimum": 0
                },
                "description": {
                    "type": "string",
                    "maxLength": 500
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string",
                    "maxLength": 100
                },
                "wrong_team_correct_score": {
                    "type": "integer",
                    "minimum": 0
                },
                "wrong_team_wrong_score": {
                    "type": "integer",
                    "minimum": 0
                }
            }
        },
        "prediction.Vote": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "prediction": {
                    "$ref": "#/definitions/prediction.Prediction"
                },
                "prediction_id": {
                    "type": "integer"
                },
                "updated_at": {
                    "type": "string"
                },
                "user": {
                    "description": "关联关系",
                    "allOf": [
                        {
                            "$ref": "#/definitions/user.User"
                        }
                    ]
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "replay.ReplayResult": {
            "type": "object",
            "properties": {
                "duration": {
                    "description": "Duration in nanoseconds",
                    "type": "integer",
                    "example": 1500000000
                },
                "errors": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "failed_events": {
                    "type": "integer"
                },
                "processed_events": {
                    "type": "integer"
                },
                "total_events": {
                    "type": "integer"
                }
            }
        },
        "response.ErrorInfo": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "HTTP status code",
                    "type": "integer",
                    "example": 400
                },
                "details": {
                    "description": "Additional error context",
                    "type": "string",
                    "example": "Validation failed"
                },
                "message": {
                    "description": "Primary error message",
                    "type": "string",
                    "example": "Bad request"
                }
            }
        },
        "response.Response": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "Response payload (success only)"
                },
                "error": {
                    "description": "Error details (failure only)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/response.ErrorInfo"
                        }
                    ]
                },
                "message": {
                    "description": "Human-readable message",
                    "type": "string",
                    "example": "Operation successful"
                },
                "success": {
                    "description": "Operation success status",
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "scoring.MatchPointsCalculation": {
            "type": "object",
            "properties": {
                "match_id": {
                    "type": "integer"
                },
                "processed_at": {
                    "type": "string"
                },
                "results": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/scoring.PointsCalculationResult"
                    }
                },
                "total_points": {
                    "type": "integer"
                }
            }
        },
        "scoring.PointsCalculationResult": {
            "type": "object",
            "properties": {
                "is_correct": {
                    "type": "boolean"
                },
                "match_id": {
                    "type": "integer"
                },
                "points": {
                    "type": "integer"
                },
                "prediction_id": {
                    "type": "integer"
                },
                "reason": {
                    "description": "积分获得原因",
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "scoring.PointsUpdateEvent": {
            "type": "object",
            "properties": {
                "match_id": {
                    "type": "integer"
                },
                "new_points": {
                    "type": "integer"
                },
                "old_points": {
                    "type": "integer"
                },
                "points_change": {
                    "type": "integer"
                },
                "prediction_id": {
                    "type": "integer"
                },
                "timestamp": {
                    "type": "string"
                },
                "tournament": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "services.Alert": {
            "type": "object",
            "properties": {
                "level": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "resolved": {
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "string"
                }
            }
        },
        "services.CacheMetrics": {
            "type": "object",
            "properties": {
                "last_check": {
                    "type": "string"
                },
                "leaderboard_stats": {
                    "$ref": "#/definitions/services.CacheStats"
                },
                "redis_stats": {},
                "system_health": {
                    "$ref": "#/definitions/services.SystemHealth"
                }
            }
        },
        "services.CacheReport": {
            "type": "object",
            "properties": {
                "alerts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/services.Alert"
                    }
                },
                "generated_at": {
                    "type": "string"
                },
                "hourly_stats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/services.HourlyStats"
                    }
                },
                "recommendations": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "summary": {
                    "$ref": "#/definitions/services.CacheMetrics"
                }
            }
        },
        "services.CacheStats": {
            "type": "object",
            "properties": {
                "cache_hits": {
                    "type": "integer"
                },
                "cache_misses": {
                    "type": "integer"
                },
                "hit_rate": {
                    "type": "number"
                },
                "last_updated": {
                    "type": "string"
                },
                "total_requests": {
                    "type": "integer"
                }
            }
        },
        "services.HourlyStats": {
            "type": "object",
            "properties": {
                "avg_response_ms": {
                    "type": "number"
                },
                "hit_rate": {
                    "type": "number"
                },
                "hits": {
                    "type": "integer"
                },
                "hour": {
                    "type": "string"
                },
                "misses": {
                    "type": "integer"
                },
                "requests": {
                    "type": "integer"
                }
            }
        },
        "services.PointsCalculationTask": {
            "type": "object",
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "error": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "match_id": {
                    "type": "integer"
                },
                "rule_id": {
                    "type": "integer"
                },
                "status": {
                    "description": "pending, processing, completed, failed",
                    "type": "string"
                }
            }
        },
        "services.SystemHealth": {
            "type": "object",
            "properties": {
                "connection_count": {
                    "type": "integer"
                },
                "hit_rate_healthy": {
                    "type": "boolean"
                },
                "memory_usage_mb": {
                    "type": "number"
                },
                "redis_connected": {
                    "type": "boolean"
                },
                "response_time_ms": {
                    "type": "number"
                }
            }
        },
        "user.User": {
            "type": "object",
            "properties": {
                "avatar": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "last_password_change": {
                    "type": "string"
                },
                "nickname": {
                    "type": "string"
                },
                "points": {
                    "type": "integer"
                },
                "role": {
                    "$ref": "#/definitions/user.UserRole"
                },
                "updated_at": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "user.UserRole": {
            "type": "string",
            "enum": [
                "user",
                "admin"
            ],
            "x-enum-varnames": [
                "UserRoleUser",
                "UserRoleAdmin"
            ]
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "输入 \"Bearer \" + JWT令牌进行身份验证",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    },
    "externalDocs": {
        "description": "OpenAPI 规范",
        "url": "https://swagger.io/resources/open-api/"
    }
}`

// SwaggerInfo holds exported Swagger Info so clients can modify it
var SwaggerInfo = &swag.Spec{
	Version:          "1.0",
	Host:             "localhost:8080",
	BasePath:         "/api/v1",
	Schemes:          []string{"http", "https"},
	Title:            "预测系统 API",
	Description:      "基于 Go + MySQL + Redis 的高性能预测系统后端 API，支持体育比赛预测、用户投票、排行榜和实时更新功能\n\n## 功能特性\n- 🏆 体育比赛预测系统\n- 👥 用户注册和认证\n- 🗳️ 预测投票功能\n- 📊 实时排行榜\n- ⚡ WebSocket 实时通信\n- 🚀 高性能缓存策略\n\n## 技术栈\n- **后端**: Go + Gin + GORM\n- **数据库**: MySQL 8.0\n- **缓存**: Redis 6.0\n- **认证**: JWT\n\n## API 版本管理\n当前版本: v1.0，支持向后兼容",
	InfoInstanceName: "swagger",
	SwaggerTemplate:  docTemplate,
	LeftDelim:        "{{",
	RightDelim:       "}}",
}

func init() {
	swag.Register(SwaggerInfo.InstanceName(), SwaggerInfo)
}
